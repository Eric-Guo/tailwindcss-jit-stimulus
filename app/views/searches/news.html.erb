<%= render 'frame', tab_name: 'news' do -%>
  <% if @news.length > 0 %>
    <%# 新闻 %>
    <div class="mx-4 xl:mx-6 2xl:mx-8 mt-6 2xl:mt-8 mb-16 grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 gap-8">
      <% @news.each do |news| %>
        <a class="flex-grow flex border border-gray-100 border-solid animate-fade-in" href="<%= news.url %>" target="_blank">
          <div class="flex-none w-36 h-36 flex flex-col justify-around bg-gray-100 m-2">
            <img class="w-full h-full object-cover" src="<%= mat_img_url(news.cover, '') -%>" alt="">
          </div>
          <div class="flex-1 flex flex-col justify-between px-8 py-5">
            <div>
              <div class="flex text-2xl text-left leading-tight">
                <h1 class="flex-1 w-0 font-bold truncate" title="<%= news.title -%>"><%= text_with_default(news.title) -%></h1>
                <% if news.source.present? %>
                  <span class="flex-none ml-1 px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-400">
                    <%= news.source %>
                  </span>
                <% end %>
                <% if news.materials.present? %>
                  <% news.materials.each do |material| %>
                    <span class="flex-none ml-1 px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-400">
                      <%= material.name -%>
                    </span>
                  <% end %>
                <% end %>
              </div>
              <h2 class="mt-3 text-1xl text-left line-clamp-2" title="<%= news.subtitle -%>"><%= text_with_default(news.subtitle) -%></h2>
            </div>
            <time><%= news.published_at&.strftime('%Y-%m-%d') %></time>
          </div>
        </a>
      <% end %>
    </div>
  <% else %>
    <%= render 'empty' %>
  <% end %>
<% end %>
